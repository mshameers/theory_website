{% extends "main.html" %}
{% block body %}

{% from "_form_macro.html" import render_form, render_field_with_errors, render_field %}


  <div class="row">
    <header>AUTHOR</header>
    <br />
    <br />
      <div class="large-12 columns">
        {% call render_form(action=url_for('author')) %}
          {{ form.hidden_tag() }}
            {# <input name=_csrf_token type=hidden value="{{ csrf_token() }}"> #}
            <div class="large-6 columns">
              {{ render_field_with_errors(form.name, class="large-6 columns") }}
            </div>
            <div class="large-6 columns">
              <br />
              <input type="submit" value="Add New Author" />
            </div>
        {% endcall %}
      </div>
      <div class="large-12 columns">
    <br />
    <br />
        <table class="">
          <thead>
            <tr>
              <th width="80">Sl No:</th>
              <th width="250">Name</th>
              <th width="150">No of Books</th>
              <th width="150">Edit</th>
              <th width="150">Delete</ th>
            </tr>
          </thead>
          <tbody>
            {% for author in authors %}
              <tr class="{{ loop.cycle('odd', 'even') }}">
                <td>{{loop.index}}</td>
                <td>{{author.name|e}}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
  </div>

{% endblock %}
{% block script %}
{% endblock %}